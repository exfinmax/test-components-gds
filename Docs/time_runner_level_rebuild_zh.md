# Time Runner 关卡重构提案（仅回溯 + 回声，时停可选）

## 1. 核心设计结论

你现在的判断是对的：能力过多会稀释教学和关卡辨识度。建议主线收敛为：
- 核心能力 A：回溯（Rewind）
- 核心能力 B：回声（Echo）
- 可选能力 C：时停（仅作为后期调味，不进主教学）

并采用“回溯后释放回声”的统一机制：
- 玩家先录制/回溯一个时间片段；
- 松开回溯键后可释放回声，重演该片段用于压板、挡弹、同步触发。

## 2. 为什么这样更好

1. 降低认知负担
- 玩家只学两件事：回到过去、让过去重演。

2. 强化关卡可读性
- 机关设计围绕“时序复用”，不会被快进/慢放/免疫抢戏。

3. 提升系统耦合质量
- 资源系统只需服务回溯与回声。
- UI 反馈只需明确两条状态线：回溯储能与回声冷却。

## 3. 能力模型（建议）

## 3.1 回溯
- 按住启动，持续消耗“时间能量”。
- 可回到最近 N 秒（建议 2.5~4.0 秒）。
- 松开时在当前位置结束回溯。

## 3.2 回声（与回溯绑定）
- 只有在“本次回溯有效录制”后才可释放。
- 回声重演刚才回溯区间的动作轨迹。
- 回声可交互（压板/触发器）但默认不造成战斗伤害。
- 释放后进入冷却（建议 2.5~3.5 秒）。

## 3.3 时停（可选）
- 仅在后半段做“复杂时序谜题修饰”。
- 不作为主线必需能力，防止主循环被打散。

## 4. 关卡结构（8 关主线）

1. L1 回溯入门
- 学习回溯校错（跳失败可回滚重试）。

2. L2 回声初见
- 单压板双点位：回声压 A，本体过 B。

3. L3 回溯 + 回声串联
- 同一区域两次不同时序触发。

4. L4 危险区协同
- 回声挡一次弹道/触发移动平台，本体穿越。

5. L5 回声预算
- 能量与冷却双约束，训练节奏规划。

6. L6 逆序机关
- 需要先做后用：先录制，后回溯，再释放回声开门。

7. L7 高压综合
- 多房间接力，错一步可回溯但能量紧张。

8. L8 毕业关
- 3 段式挑战：时序压板、动态陷阱、终局冲刺。

## 5. 参数起点（可直接测）

- 时间能量上限：100
- 回溯消耗：18 / s
- 回溯最大窗口：3.0s
- 回声释放消耗：20
- 回声持续：2.2s
- 回声冷却：3.0s
- 能量回复：默认不自动回复，靠关卡碎片补给

## 6. 机关白名单（优先做）

1. `EchoPlate`：只认回声或回声+玩家
2. `TimedDoor`：需要持续触发 N 秒
3. `RelaySwitch`：多个开关按先后顺序触发
4. `EchoBlocker`：要求回声占位挡弹
5. `EnergyCrystal`：补给点

## 7. UI 最小需求

- 条 1：时间能量
- 条 2：回溯窗口储能/可用时长
- 状态：回声可释放 / 冷却中
- 反馈：失败原因提示（能量不足、无有效回溯片段、冷却中）

## 8. 研发顺序建议

1. 先把“回溯结束 -> 回声释放”整合成单流程。
2. 再做 2 个垂直切片关卡（L2/L3）。
3. 稳定后再评估是否加入时停支线关卡。
